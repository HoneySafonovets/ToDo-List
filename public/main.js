(()=>{"use strict";const e=document.querySelector(".main"),t=document.querySelector(".header__add");let n=[];function o(e){const t=document.createElement("div");t.className="note",t.id=e.id,t.dataset.parent="parent",t.innerHTML=`\n    <div class="note-header">\n      <p class="note-title" id="note-title">${e.title}</p>\n      <input id="note-title-input" class="note-hidden note-title-input" placeholder="${e.title}" type="text" autocomplete="off">\n      <div class="note-actions">\n        <button class="note-edit">\n          <i class="fa-solid fa-pen-to-square"></i>\n        </button>\n        <button class="note-delete">\n          <i class="fa-solid fa-trash"></i>\n        </button>\n      </div>\n    </div>\n    <textarea id="note-description" rows="15" wrap="hard" readonly class="note-textarea" disabled placeholder="${e.text}">${e.text}</textarea>\n    <textarea id="note-textarea" class="note-hidden note-textarea" rows="15" wrap="hard" placeholder="${e.text}"></textarea>\n  `;const o=t.querySelector(".note-edit"),a=t.querySelector(".note-delete"),s=t.querySelector("#note-title"),r=t.querySelector("#note-description"),d=t.querySelector("#note-textarea"),l=t.querySelector("#note-title-input");return o.addEventListener("click",(()=>{r.classList.toggle("note-hidden"),s.classList.toggle("note-hidden"),d.classList.toggle("note-hidden"),l.classList.toggle("note-hidden")})),a.addEventListener("click",(e=>{t.remove(),function(e){const t=e.target.closest(".note"),o=Number(t.id);n=n.filter((e=>e.id!==o))}(e),i()})),l.addEventListener("input",(e=>{const t=e.target.closest(".note");s.innerHTML=e.target.value;const o=Number(t.id);n.find((e=>e.id===o)).title=s.innerHTML,i()})),d.addEventListener("input",(e=>{const t=e.target.closest(".note");r.innerHTML=e.target.value;const o=Number(t.id);n.find((e=>e.id===o)).text=r.innerHTML,i()})),t}function i(){localStorage.setItem("tasks",JSON.stringify(n))}function a(t){e.appendChild(t)}localStorage.getItem("tasks")&&(n=JSON.parse(localStorage.getItem("tasks")),n.forEach((e=>{a(o(e))}))),t.addEventListener("click",(()=>{a(function(e,t){const a={id:Date.now(),title:"Заголовок",text:"Ваш текст..."},s=o(a);return s.id=a.id,n.push(a),i(),s}())}))})();