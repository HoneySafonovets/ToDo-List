(()=>{"use strict";const e=document.querySelector(".main"),t=document.querySelector(".header__add");let n=[];function i(e){const t=document.createElement("div");t.className="note",t.id=e.id,t.dataset.parent="parent",t.innerHTML=`\n    <div class="note-header">\n      <textarea class="note-title" id="note-title" disabled rows="1" readonly wrap="hard" placeholder="${e.titleBegin}">${e.title}</textarea>\n      <input id="note-title-input" class="note-hidden note-title-input" placeholder="${e.titleBegin}" type="text" autocomplete="off" value="${e.title}" spellcheck="false">\n      <div class="note-actions">\n        <button class="note-edit">\n          <i class="fa-solid fa-pen-to-square"></i>\n        </button>\n        <button class="note-delete">\n          <i class="fa-solid fa-trash"></i>\n        </button>\n      </div>\n    </div>\n    <textarea id="note-description" rows="15" wrap="hard" readonly class="note-textarea" disabled placeholder="${e.textBegin}">${e.text}</textarea>\n    <textarea id="note-textarea" class="note-hidden note-textarea" rows="15" wrap="hard" spellcheck="false" placeholder="${e.textBegin}">${e.text}</textarea>\n  `;const i=t.querySelector(".note-edit"),o=t.querySelector(".note-delete"),s=t.querySelector("#note-title"),l=t.querySelector("#note-description"),r=t.querySelector("#note-textarea"),d=t.querySelector("#note-title-input");return i.addEventListener("click",(()=>{l.classList.toggle("note-hidden"),s.classList.toggle("note-hidden"),r.classList.toggle("note-hidden"),d.classList.toggle("note-hidden"),d.focus()})),o.addEventListener("click",(e=>{t.remove(),function(e){const t=e.target.closest(".note"),i=Number(t.id);n=n.filter((e=>e.id!==i))}(e),a()})),d.addEventListener("input",(e=>{const t=e.target.closest(".note");s.innerHTML=e.target.value;const i=Number(t.id),o=n.find((e=>e.id===i));o.title=s.innerHTML,o.titleBegin=s.innerHTML,a()})),r.addEventListener("input",(e=>{const t=e.target.closest(".note");l.innerHTML=e.target.value;const i=Number(t.id);n.find((e=>e.id===i)).text=l.innerHTML,a()})),t}function a(){localStorage.setItem("tasks",JSON.stringify(n))}function o(t){e.appendChild(t)}localStorage.getItem("tasks")&&(n=JSON.parse(localStorage.getItem("tasks")),n.forEach((e=>{o(i(e))}))),t.addEventListener("click",(()=>{o(function(e,t,o,s){const l={id:Date.now(),title:"",text:"",titleBegin:"Загаловок",textBegin:"Ваш текст..."},r=i(l);return r.id=l.id,n.push(l),a(),r}())}))})();