(()=>{"use strict";const e=document.querySelector(".main"),t=document.querySelector(".header__add");let n=[];function a(e){const t=document.createElement("div");t.className="note",t.id=e.id,t.dataset.parent="parent",t.innerHTML=`\n    <div class="note-header">\n      <textarea class="note-title" id="note-title" disabled rows="1" readonly wrap="hard" placeholder="Заголовок">${e.title}</textarea>\n      <input id="note-title-input" class="note-hidden note-title-input" placeholder="Заголовок" type="text" autocomplete="off" value="${e.title}" spellcheck="false">\n      <div class="note-actions">\n        <button class="note-edit">\n          <i class="fa-solid fa-pen-to-square"></i>\n        </button>\n        <button class="note-delete">\n          <i class="fa-solid fa-trash"></i>\n        </button>\n      </div>\n    </div>\n    <textarea id="note-description" rows="15" wrap="hard" readonly class="note-textarea" disabled placeholder="Ваш текст...">${e.text}</textarea>\n    <textarea id="note-textarea" class="note-hidden note-textarea" rows="15" wrap="hard" spellcheck="false" placeholder="Ваш текст...">${e.text}</textarea>\n  `;const a=t.querySelector(".note-edit"),i=t.querySelector(".note-delete"),s=t.querySelector("#note-title"),r=t.querySelector("#note-description"),l=t.querySelector("#note-textarea"),d=t.querySelector("#note-title-input");return a.addEventListener("click",(()=>{r.classList.toggle("note-hidden"),s.classList.toggle("note-hidden"),l.classList.toggle("note-hidden"),d.classList.toggle("note-hidden"),d.focus()})),i.addEventListener("click",(e=>{t.remove(),function(e){const t=e.target.closest(".note"),a=Number(t.id);n=n.filter((e=>e.id!==a))}(e),o()})),d.addEventListener("input",(e=>{const t=e.target.closest(".note");s.innerHTML=e.target.value;const a=Number(t.id),i=n.find((e=>e.id===a));i.title=s.innerHTML,i.titleBegin=s.innerHTML,o()})),l.addEventListener("input",(e=>{const t=e.target.closest(".note");r.innerHTML=e.target.value;const a=Number(t.id);n.find((e=>e.id===a)).text=r.innerHTML,o()})),t}function o(){localStorage.setItem("tasks",JSON.stringify(n))}function i(t){e.appendChild(t)}localStorage.getItem("tasks")&&(n=JSON.parse(localStorage.getItem("tasks")),n.forEach((e=>{i(a(e))}))),t.addEventListener("click",(()=>{i(function(e,t){const i={id:Date.now(),title:"",text:""},s=a(i);return s.id=i.id,n.push(i),o(),s}())}))})();